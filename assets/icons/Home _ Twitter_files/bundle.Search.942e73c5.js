(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{"+RfI":function(e,t,a){"use strict";var r=a("ERkP"),n=a("Lsrn"),s=a("k/Ka");const o=(e={})=>Object(s.a)("svg",{...e,style:[n.a.root,e.style],viewBox:"0 0 24 24"},r.createElement("g",null,r.createElement("path",{d:"M2 7.75h9.326c.356 1.986 2.087 3.5 4.174 3.5s3.818-1.514 4.174-3.5H22c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-2.326c-.356-1.986-2.087-3.5-4.174-3.5s-3.818 1.514-4.174 3.5H2c-.414 0-.75.336-.75.75s.336.75.75.75zm13.5-3.5c1.517 0 2.75 1.233 2.75 2.75s-1.233 2.75-2.75 2.75S12.75 8.517 12.75 7s1.233-2.75 2.75-2.75zm6.5 12h-9.326c-.356-1.986-2.087-3.5-4.174-3.5s-3.818 1.514-4.174 3.5H2c-.414 0-.75.336-.75.75s.336.75.75.75h2.326c.356 1.986 2.087 3.5 4.174 3.5s3.818-1.514 4.174-3.5H22c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm-13.5 3.5c-1.517 0-2.75-1.233-2.75-2.75s1.233-2.75 2.75-2.75 2.75 1.233 2.75 2.75-1.233 2.75-2.75 2.75z"})));o.metadata={width:24,height:24},t.a=o},"0E8n":function(e,t,a){"use strict";a.r(t),a.d(t,"SearchScreen",(function(){return Qe}));var r=a("KEM+"),n=a.n(r),s=(a("kYxP"),a("ERkP")),o=a("HPNB"),c=a("v6aA"),i=a("es0u"),l=a("zh9S"),h=a("1YZw"),d=a("rxPX"),u=a("0KEI"),p=a("hqKg"),m=a("3IPs"),g=a("v4XE"),b=a("Hw0q");const y=(e,t)=>{const{location:a}=t;return a.query&&a.query.src&&"string"==typeof a.query.src?a.query.src:""},S=(e,t)=>{const{location:a,match:{params:r}}=t;return r&&r.unsafeHashtagQuery&&"string"==typeof r.unsafeHashtagQuery?`#${r.unsafeHashtagQuery}`:a&&a.query&&a.query.q&&Object(b.a)(a.query.q)||""},v=Object(p.createSelector)(S,g.d,((e,t)=>t.map((e=>e.query)).indexOf(e)>-1)),f=(e,t)=>{const{location:a}=t;return 0===a.pathname.indexOf("/search")?"search":"hashtag"},E=(e,t)=>!!(t.location.state||{}).searchFocused,C=Object(p.createSelector)(Object(b.b)("pf"),Object(b.b)("lf"),((e,t)=>({peopleFilter:e,locationFilter:t}))),_=(e,t)=>{const{location:a}=t,r=a.query&&Object(b.a)(a.query.f),n=r&&Object.keys(m.c).find((e=>m.c[e]===r));return n?m.c[n]:void 0};var x=Object(d.a)().propsFromState((()=>({searchFocused:E,query:S,querySrc:y,isQueryAlreadySaved:v,searchType:f,searchFilters:C,mode:_,savedSearches:g.d,vertical:Object(b.b)("vertical")}))).propsFromActions((()=>({addToast:h.b,createLocalApiErrorHandler:Object(u.d)("SEARCH_SCREEN"),deleteSavedSearch:g.a,fetchSavedSearchesIfNeeded:g.b,saveSearch:g.c,scribeAction:l.c}))).withAnalytics(),O=a("sYRn"),w=a("3XMw"),T=a.n(w),k=a("oQhu"),q=a("OHiq"),j=a("yoO3"),M=a("7nmT"),F=a.n(M),I=a("5FtR"),P=a("Rp9C"),R=a("7JQg"),L=a("L7to");a("muX9");T.a.a8399d5b,T.a.ge893905;var A=a("mjJ+"),H=a("3A2y"),D=a("+RfI"),z=a("VwDm"),B=a("M2x3"),N=a("Lsrn"),V=a("k/Ka");const U=(e={})=>Object(V.a)("svg",{...e,style:[N.a.root,e.style],viewBox:"0 0 24 24"},s.createElement("g",null,s.createElement("path",{d:"M16 11.25h-3.25V8c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3.25H8c-.414 0-.75.336-.75.75s.336.75.75.75h3.25V16c0 .414.336.75.75.75s.75-.336.75-.75v-3.25H16c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"}),s.createElement("path",{d:"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z"})));U.metadata={width:24,height:24};var Q=U,$=a("hiGS");const X=T.a.h1ef00db,W=T.a.aea62567,K=T.a.j622effd,Y=T.a.h4912b5e,J=T.a.b9bc69ca;class G extends s.Component{constructor(...e){super(...e),n()(this,"_getActionItems",(()=>{const{deleteSavedSearch:e,isLoggedIn:t,isTwoColumn:a,isQueryAlreadySaved:r,location:n,saveSearch:s}=this.props,o=[];return a||o.push({Icon:D.a,text:W,link:{pathname:"/i/search_filters",query:n.query}}),o.push({Icon:z.a,text:K,link:{pathname:"/search-advanced",query:{...Object(H.a)(n.query,["q","src"])}}}),t&&(o.unshift({Icon:B.a,text:X,link:"/settings/search"}),r?o.push({Icon:$.a,isEmphasized:!0,text:J,onClick:t=>{t(),e()}}):o.push({Icon:Q,text:Y,onClick:e=>{e(),s()}})),o}))}render(){return s.createElement(A.a,{items:this._getActionItems(),onCloseRequested:this.props.onClose})}}var Z=G,ee=a("VS6U"),te=a("LsPn"),ae=a("aITJ"),re=a("MWbm");const ne=T.a.f9d35b98,se=T.a.ha925ad3,oe=T.a.h0a9931b,ce={customErrorHandler:()=>Object(h.b)({text:se}),showToast:!0},ie={customErrorHandler:()=>Object(h.b)({text:ne}),showToast:!0},le={customErrorHandler:()=>Object(h.b)({text:oe}),showToast:!0};var he=a("cHvH"),de=a("6vad"),ue=a("k/OQ"),pe=a("oEGd"),me=a("8Lfv");const ge=Object(p.createSelector)(m.i,((e,t)=>"POP"===t.history.action),((e,t)=>{const{location:a}=t,r=a.query&&Object(b.a)(a.query.f),n=r&&Object.keys(m.c).find((e=>m.c[e]===r));return n&&m.c[n]||m.c.Top}),((e,t)=>{var a;const{location:r}=t;return null==r||null==(a=r.state)?void 0:a.urtEndpointOptions}),((e,t,a,r)=>({dataLookupId:e,isBackNavigation:t,searchMode:a,urtEndpointOptions:r}))),be={clearTimelineCache:({module:e,fetchOptions:t})=>Object(me.a)(e,t),createLocalApiErrorHandler:Object(u.d)("SEARCH_RESULTS_SCREEN"),googleAnalyticsPageView:l.a,scribePageImpression:l.d};var ye=Object(pe.g)(ge,be),Se=a("s14A"),ve=a("dwig"),fe=a("3X8/"),Ee=a("0+qk"),Ce=a("Ds5i"),_e=a.n(Ce),xe=a("h2mu"),Oe=a("i6OR"),we=a("pQ3Z"),Te=a.n(we);const ke=e=>e&&_e()(e)?{defaultText:` ${e}`,positionCursorAtBeginning:!0}:void 0,qe=Object(k.a)(((e,t,a)=>({...e,section:`search_filter_${t}${a===m.d.Topics?"_topics":""}`})));class je extends s.Component{constructor(...e){super(...e),n()(this,"_getFabState",(()=>{const{query:e}=this.props;return ke(e)})),n()(this,"_getTimelineScribeNamespace",(()=>{const{scribeNamespace:e,searchMode:t,vertical:a}=this.props;return qe(e,t,a)}))}componentDidMount(){const{googleAnalyticsPageView:e,isBackNavigation:t,scribePageImpression:a}=this.props;a(this._getTimelineScribeNamespace()),e(this._getTimelineScribeNamespace()),t||this._clearTimelineCache()}componentDidUpdate(e){const{isBackNavigation:t,query:a,querySrc:r,searchFilters:n}=this.props;t||e.query===a&&e.querySrc===r&&Te()(e.searchFilters,n)||this._clearTimelineCache()}render(){const{searchFocused:e,query:t,searchFilters:a,querySrc:r,searchMode:n,urtEndpointOptions:o,vertical:c}=this.props;return s.createElement(ve.a,{component:Se.a,fab:this._renderFloatingComposeButton(),shouldRenderFab:!e},s.createElement(R.b,{namespace:this._getTimelineScribeNamespace()},s.createElement(xe.a,{fetchOptions:this._getFetchOptions(),query:t,querySrc:r,searchFilters:a,searchMode:n,urtEndpointOptions:o,vertical:c})))}_renderFloatingComposeButton(){const{history:e}=this.props;return s.createElement(Ee.a,{getLocationState:this._getFabState,history:e})}_getFetchOptions(){const{querySrc:e,dataLookupId:t}=this.props;return{query_source:e,data_lookup_id:t}}_clearTimelineCache(){const{clearTimelineCache:e,createLocalApiErrorHandler:t,query:a,querySrc:r,searchMode:n,searchFilters:s,urtEndpointOptions:o}=this.props;e({module:Object(Oe.b)({query:a,querySource:r,searchMode:n,searchFilters:s,urtEndpointOptions:o}),fetchOptions:this._getFetchOptions()}).catch(t(fe.a))}}n()(je,"contextType",c.a);var Me=Object(R.c)({page:"search",section:"universal"})(ye(je));const Fe=T.a.eb0ecd1d,Ie=T.a.cceeb26b,Pe=T.a.i66136a9,Re=T.a.d601fc2f,Le=T.a.g2fd3205,Ae=T.a.ac4fb0f3,He=T.a.a9ae1e78,De=T.a.bb967f9e,ze=T.a.aea62567,Be=T.a.gfcfbf8b,Ne=T.a.a4645d91,Ve=[{type:m.c.Top,label:Pe},{type:m.c.Live,label:Re},{type:m.c.User,label:Le},{type:m.c.Image,label:Ae},{type:m.c.Video,label:De}],Ue=Object(k.a)(((e,t,a,r,n,s,o)=>Ve.map((c=>{const i=m.h[c.type];return{link:Object(m.e)({query:e,querySrc:t,modeValue:i,searchType:a,searchFilters:r,vertical:s}),isActive:o(i,n),label:c.label}}))));class Qe extends s.Component{constructor(...e){super(...e),n()(this,"state",{shouldShowDeleteSearchConfirmation:!1}),n()(this,"_getScribeData",Object(k.a)(((e,t,a,r,n)=>({search_details:{...Object(m.f)({query:e,querySrc:t,searchFilters:a,modeValue:r,vertical:n})}})))),n()(this,"_renderRightControl",(({isTwoColumn:e,searchFocused:t})=>e||!t?s.createElement(q.a,{onClick:this._handleOverflowMenuClick,renderMenu:this._renderMenu}):void 0)),n()(this,"_renderMenu",(e=>{const{history:t,location:a,isQueryAlreadySaved:r}=this.props,n=!!this.context.loggedInUserId;return s.createElement(he.a,null,(({windowWidth:c})=>{const i=o.a.isTwoColumnLayout(c);return s.createElement(Z,{deleteSavedSearch:this._onDeleteSavedSearchMenuClick,history:t,isLoggedIn:n,isQueryAlreadySaved:r,isTwoColumn:i,location:a,onClose:e,saveSearch:this._onSaveSearch})}))})),n()(this,"_onSaveSearch",(()=>{const{addToast:e,analytics:t,createLocalApiErrorHandler:a,query:r,saveSearch:n,savedSearches:s}=this.props,o=s.length;r&&n(r).then((()=>e({text:Be}))).catch(a(o<25?ce:ie));const c=P.a.forSavedSearchResult(r);t.scribe({element:"saved_search",action:"add",data:{items:[c]}})})),n()(this,"_handleOnDeleteSavedSearchConfirm",(()=>{const{addToast:e,analytics:t,createLocalApiErrorHandler:a,deleteSavedSearch:r,query:n,savedSearches:s}=this.props,o=s.find((e=>e.query===n));if(o){r(o.id_str).then((()=>e({text:Ne}))).catch(a(le));const n=P.a.forSavedSearchResult(o.query);t.scribe({element:"saved_search",action:"delete",data:{items:[n]}}),this.setState({shouldShowDeleteSearchConfirmation:!1})}})),n()(this,"_handleOnDeleteSavedSearchCancel",(()=>{this.setState({shouldShowDeleteSearchConfirmation:!1})})),n()(this,"_onDeleteSavedSearchMenuClick",(()=>{this.setState({shouldShowDeleteSearchConfirmation:!0})})),n()(this,"_handleOverflowMenuClick",(()=>{const{analytics:e}=this.props;e.scribe({element:"overflow_menu",action:"click"})})),n()(this,"_renderPrimaryContent",(e=>{const{shouldShowDeleteSearchConfirmation:t}=this.state;return s.createElement(re.a,null,s.createElement(Me,e),t?s.createElement(O.a,{onCancel:this._handleOnDeleteSavedSearchCancel,onConfirm:this._handleOnDeleteSavedSearchConfirm}):null)})),n()(this,"_renderSidebarContent",(()=>{const{history:e,location:t,query:a}=this.props;return s.createElement(i.a,{withSearchBox:!1,withTrends:!!a},s.createElement(re.a,null,s.createElement(de.b,{text:ze}),s.createElement(L.b,{history:e,key:t.key,location:t})))})),n()(this,"_renderModesBar",(()=>{const e=this._getModeLinks().map((e=>({isActive:e.isActive,key:e.label,to:e.link,label:e.label})));return s.createElement(ue.a,{links:e})})),n()(this,"_getModeLinks",(()=>{const{query:e,querySrc:t,searchType:a,searchFilters:r,mode:n,vertical:s}=this.props;return Ue(e,t,a,r,n,s,((e,t)=>()=>t===e))})),n()(this,"_setSearchBoxRef",(e=>{this._searchBoxRef=e})),n()(this,"_handleSoftLeftClick",(()=>{const e=F.a.findDOMNode(this._searchBoxRef);e&&e instanceof window.HTMLElement&&e.querySelector("input").focus()})),n()(this,"_handleSearchBoxSubmit",(()=>{const{analytics:e}=this.props;e.scribe({section:"trendsplus",action:"search"})}))}componentDidMount(){const{createLocalApiErrorHandler:e,fetchSavedSearchesIfNeeded:t}=this.props;t().catch(e({}))}render(){const{location:e,searchFocused:t,query:a,querySrc:r,mode:n,searchFilters:c,searchType:i,history:l,vertical:h}=this.props,d=!!a,u=d?Ie({query:a}):Fe,p={history:l,location:e,query:a,querySrc:r,searchFilters:c,searchFocused:t,vertical:h},m={initialValue:a,mode:n,onSubmit:this._handleSearchBoxSubmit,searchFilters:c},g=this._renderPrimaryContent(p);return d?s.createElement(R.b,{data:this._getScribeData(a,r,c,n,h)},s.createElement(j.a,null,null,s.createElement(he.a,null,(({windowWidth:e})=>{const r=o.a.isTwoColumnLayout(e),n=this._renderRightControl({isTwoColumn:r,searchFocused:t});return s.createElement(ee.a,{backLocation:"/explore",composeOptions:ke(a),documentTitle:u,history:l,primaryContent:g,rightControl:n,searchBoxOptions:m,searchBoxRef:this._setSearchBoxRef,secondaryBar:this._renderModesBar(),sidebarContent:this._renderSidebarContent(),title:a,withBottomLoginSignupBar:!0,withSearchBox:!0})})),ae.b.isKaiOS()&&s.createElement(te.a,{leftText:He,onLeftClick:this._handleSoftLeftClick}))):s.createElement(I.a,{to:"/explore"})}}n()(Qe,"contextType",c.a);const $e=x(Qe);t.default=$e},"3X8/":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a("k49u"),n=a("LVU8"),s=a("3XMw");const o=a.n(s).a.i1801686,c={[r.a.GenericForbidden]:{toast:Object(n.a)()},[r.a.InvalidRequestUrl]:{toast:{text:o,withClearButton:!0}},showToast:!0}},"8/3a":function(e,t,a){"use strict";var r=a("0mK8"),n=a("ERkP"),s=a("3XMw"),o=a.n(s),c=a("caTy"),i=a("MWbm"),l=a("rHpw"),h=a("t62R"),d=a("yrzJ"),u=a("XrEN"),p=a("Q0VY"),m=a("FiRh");const g=l.a.create((e=>({description:{marginTop:e.spaces.space12}}))),b=(e,t,a)=>a&&!u.a.VIDEO_TYPES.includes(t)?(e=>{var t;const a=e.url?null==(t=Object(c.a)(e.url))?void 0:t.pathname:void 0;return n.createElement(h.c,{color:"gray600",link:a},e.text)})(a):e&&u.a.VIDEO_TYPES.includes(t)?((e,t)=>n.createElement(h.c,{color:"gray600",link:e.permalink},y(t,{screenName:n.createElement(d.a,{screenName:e.user.screen_name})})))(e,t):null,y=(e,t)=>{switch(e){case"animated_gif":return n.createElement(o.a.I18NFormatMessage,{$i18n:"a5d9d070"},t.screenName);case"video":case"vine":return n.createElement(o.a.I18NFormatMessage,{$i18n:"i9606e32"},t.screenName);default:return n.createElement(o.a.I18NFormatMessage,{$i18n:"i1a64d47"},t.screenName)}};var S=({coverTweet:e,description:t,mediaType:a,imageAttribution:r,pivotText:s})=>{const o=t?t.trim():void 0,c=o?p.a.descriptionTextParts(o):[];return n.createElement(i.a,{style:g.description},c.length?n.createElement(h.c,null,c.map(((e,t)=>n.createElement(m.b,{key:`events_textpart_${t}`,linkify:!0,part:e})))):null,b(e,a,r),s?n.createElement(h.c,{color:"gray600"},s):null)},v=a("pjBI");const f=l.a.create((e=>({title:{alignItems:"center",flexDirection:"row",paddingTop:e.spaces.space4},timeString:{flexShrink:0},timeStringMargin:{marginTop:e.spaces.space12}})));t.a=({author:e,coverTweet:t,description:a,imageAttribution:s,mediaType:o,pivotText:c,preTitle:l,time:d,title:u,isTOO:p,withHashflags:m})=>{const g=()=>e?n.createElement(i.a,null,n.createElement(r.a,{author:e,size:"normal",withLink:!0,withScreenName:!0}),d?b(!0):null):null,b=(e=!1)=>n.createElement(h.c,{color:"gray600",numberOfLines:1,size:"normal",style:[f.timeString,e&&f.timeStringMargin]},d),y=()=>l?n.createElement(v.a,null,n.createElement(h.c,{color:"gray600",numberOfLines:1,size:"normal",weight:"bold"},l),d?b():null):null;return n.createElement(n.Fragment,null,p&&l?y():g()||y(),n.createElement(h.c,{dir:"auto",size:"xLarge",style:f.title,weight:"heavy",withHashflags:m},u),a||t||s?n.createElement(S,{coverTweet:t,description:a,imageAttribution:s,mediaType:o,pivotText:c}):null)}},Ds5i:function(e,t,a){"use strict";var r=a("IGGJ");a("M+/F"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;var t=(0,n.default)(e);return 1===t.length&&t[0]===e.slice(1)};var n=r(a("nmVb"));e.exports=t.default},L7to:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var r=a("KEM+"),n=a.n(r),s=(a("MvUL"),a("ERkP")),o=a("3XMw"),c=a.n(o),i=a("RxYA");const l=Object.freeze({People:"People",Location:"Location"});var h=a("MWbm"),d=a("Irs7"),u=a("v6aA"),p=a("V2ml"),m=a("rC8y"),g=a("rHpw"),b=a("3A2y"),y=a("Zkey");const S=c.a.j622effd,v=c.a.g2fd3205,f=c.a.defb4aa9,E=c.a.af293dc2,C=c.a.jaaa8984,_=c.a.i5045e73,x=c.a.h2388753,O="anyone",w="youFollow",T="anywhere",k="nearYou",q=[{label:v,name:l.People,options:[{label:f,value:O},{label:E,value:w}]},{label:C,name:l.Location,options:[{label:_,value:T},{label:x,value:k}]}];class j extends s.Component{constructor(e,t){super(e,t),n()(this,"_renderFilters",(()=>q.map(((e,t)=>s.createElement(h.a,{key:e.name,style:t>0&&M.paddingTop},s.createElement(p.a,{label:e.label,name:e.name,onChange:this._handleFilterChange,options:e.options,value:this._getCurrentValue(e.name)})))))),n()(this,"_getCurrentValue",(e=>{switch(e){case l.People:return this.state.peopleFilter;case l.Location:return this.state.locationFilter;default:return""}})),n()(this,"_handleFilterChange",((e,t)=>{const{loggedInUserId:a}=this.context,{location:{query:r}}=this.props;switch(e){case l.People:if(a){this.setState({peopleFilter:t});const e={pf:t===w?"on":void 0,lf:"on"===r.lf?r.lf:void 0};this._executeSearch(e,"people")}else this.setState({shouldShowLoginSheet:!0});break;case l.Location:{this.setState({locationFilter:t});const e={lf:t===k?"on":void 0,pf:"on"===r.pf?r.pf:void 0};this._executeSearch(e,"location");break}}})),n()(this,"_getAdvancedSearchLink",(()=>{const{location:e}=this.props;return{pathname:"/search-advanced",query:{...Object(b.a)(e.query,["q","src"])}}})),n()(this,"_handleFooterPress",(()=>{this._scribeAction("advanced_search")})),n()(this,"_scribeAction",(e=>{const{analytics:t}=this.props;t.scribe({element:e,action:"click"})})),n()(this,"_executeSearch",((e,t)=>{const{history:a,location:r}=this.props;this._scribeAction(t);const n=this._getPathname();a.replace({pathname:n,query:Object(y.a)({...r.query,...e})})})),n()(this,"_getPathname",(()=>{const{location:e}=this.props;if(e.pathname.includes("/hashtag/"))return e.pathname;if(e.state&&e.state.previousPath&&e.state.previousPath.includes("/hashtag/")&&"/search"!==e.pathname){const t=e.state.previousPath,a=t.indexOf("?")>-1?t.indexOf("?"):t.length-1;return t.substring(0,a)}return"/search"})),n()(this,"_handleHideLoginSheet",(()=>{this.setState({shouldShowLoginSheet:!1})}));const{loggedInUserId:a}=this.context,{location:r}=e,o=r.query,c=a&&o&&o.pf?w:O,i=o&&o.lf?k:T;this.state={peopleFilter:c,locationFilter:i,shouldShowLoginSheet:!1}}componentDidMount(){const{analytics:e}=this.props;e.scribe({action:"impression"})}render(){const{withBottomBorder:e}=this.props,{shouldShowLoginSheet:t}=this.state;return s.createElement(h.a,null,s.createElement(h.a,{style:M.content},this._renderFilters()),s.createElement(h.a,{style:[M.footer,e&&M.bottomBorder]},s.createElement(m.a,{link:this._getAdvancedSearchLink(),onPress:this._handleFooterPress,text:S})),t?s.createElement(i.a,{onClose:this._handleHideLoginSheet}):null)}}n()(j,"contextType",u.a),n()(j,"defaultProps",{withBottomBorder:!1});const M=g.a.create((e=>({content:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingBottom:e.spaces.space16},footer:{borderTopColor:e.colors.gray50,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small},bottomBorder:{borderBottomColor:e.colors.gray50,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},paddingTop:{paddingTop:e.spaces.space4}})));t.b=Object(d.a)(j,{page:"search_filters"})},PH3B:function(e,t,a){"use strict";var r=a("ezF+"),n=a("VPAj"),s=a("caTy"),o=a("zh9S"),c=a("Rp9C"),i=a("P1r1"),l=(e,t)=>r.f({isFocusable:Object(n.a)(!0),component:e,bindActions:Object(n.a)({scribe:o.c}),selectData:()=>({dataSaverMode:i.j}),createProps:({data:{dataSaverMode:e},entry:a,actions:{scribe:r},scribeNamespace:n})=>{const{content:o}=a,i=o.landingUrl&&Object(s.b)(o.landingUrl),l=t({content:o});return{...{author:o.author,link:i,originalImage:e?void 0:o.originalImage,onClick:()=>{const e=c.a.getAllSurfaceDetails(a.itemMetadata.clientEventInfo);r({...n,action:"click"},e?{items:[e]}:void 0)},title:o.title},...l}}}),h=a("0mK8"),d=a("ERkP"),u=a("zOwA"),p=a("MWbm"),m=a("htQn"),g=a("t62R"),b=a("9Xij"),y=a("TIdA"),S=a("A91F"),v=a("rHpw");const f="100px",E="70px",C=v.a.create((e=>({root:{flexDirection:"row",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},coverImage:{height:"100%",width:"100%"},coverContainer:{backgroundColor:e.colors.gray200,borderRadius:e.borderRadii.xLarge,height:"15%",maxHeight:f,maxWidth:f,minHeight:E,minWidth:E,overflow:"hidden",width:"15%"},details:{flex:1,marginRight:e.spaces.space12},title:{marginHorizontal:0,marginVertical:e.spaces.space2}})));var _=l((({author:e,contextImage:t,contextLabel:a,link:r,onClick:n,originalImage:s,title:o})=>d.createElement(m.a,{link:r,onClick:n,style:C.root},d.createElement(p.a,{style:C.details},d.createElement(g.c,{color:"gray600",size:"small"},e),d.createElement(g.c,{style:C.title,weight:"bold"},o),a?d.createElement(u.a,{image:t,label:a,textSize:"small"}):null),d.createElement(p.a,{style:C.coverContainer},d.createElement(b.a,{ratio:1},s?d.createElement(y.a,{accessibilityLabel:"",aspectMode:S.a.SQUARE,image:s}):d.createElement(h.e,{icon:"news"}))))),(({content:{socialProof:e}})=>{const t=e&&e.generalContext||void 0;return{contextImage:t&&t.contextImageUrls&&t.contextImageUrls[0],contextLabel:t&&t.text}}));var x=Object.freeze({Cell:"Cell",PreviewCard:"PreviewCard"}),O=a("8/3a");const w=v.a.create((e=>({contentContainer:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},coverContainer:{backgroundColor:e.colors.gray200,height:"100%",overflow:"hidden",width:"100%"}})));var T=l((({author:e,description:t,link:a,onClick:r,originalImage:n,pivotText:s,title:o})=>d.createElement(m.a,{link:a,onClick:r},d.createElement(p.a,{style:w.coverContainer},d.createElement(b.a,{ratio:16/9},n?d.createElement(y.a,{accessibilityLabel:"",aspectMode:S.a.COVER,image:n}):d.createElement(h.e,{icon:"news"}))),d.createElement(p.a,{style:w.contentContainer},d.createElement(O.a,{description:t,pivotText:s,preTitle:e,title:o})))),(({content:{description:e,pivotText:t}})=>({description:e,pivotText:t})));t.a=r.b({selectDisplayType:e=>e.content.newsDisplayType,handlers:{[x.Cell]:_,[x.PreviewCard]:T}})},h2mu:function(e,t,a){"use strict";var r=a("KEM+"),n=a.n(r),s=(a("kYxP"),a("ERkP")),o=a("v6aA"),c=a("ezF+"),i=a("VPAj"),l=a("QIgh"),h=a("8UdT"),d=a("iu0J"),u=a("zgaL"),p=a("PH3B"),m=a("u3ZE"),g=a("htQn"),b=a("t62R"),y=a("rHpw");class S extends s.PureComponent{render(){const{searchTerm:e}=this.props,t={pathname:"/search",query:{q:e,src:m.a.RelatedQueryClick}};return s.createElement(g.a,{link:t,style:v.link},s.createElement(b.c,null,e))}}const v=y.a.create((e=>({link:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical}})));var f=S,E=a("zh9S"),C=Object.freeze({Expand:"Expand",Replace:"Replace",Suggest:"Suggest"}),_=a("X04g"),x=a("MWbm"),O=a("3XMw"),w=a.n(O);const T=w.a.je5502ea,k=w.a.bc4628a0,q=e=>s.createElement(b.c,{weight:"bold"},e);class j extends s.PureComponent{render(){const{suggestion:e}=this.props,t={pathname:"/search",query:{q:e,src:m.a.SpellingSuggestionClick}};return s.createElement(b.c,{link:t,style:I.root},s.createElement(w.a.I18NFormatMessage,{$i18n:"hce48b8a"},q(e)))}}class M extends s.PureComponent{render(){const{onClick:e,original:t,suggestion:a}=this.props,r={pathname:"/search",query:{q:a,src:m.a.SpellingCorrectionClick}};return s.createElement(x.a,{style:I.root},s.createElement(b.c,{weight:"bold"},k({suggestion:a})),s.createElement(b.c,{link:r,onClick:e},s.createElement(w.a.I18NFormatMessage,{$i18n:"h36fe5c9"},q(t))))}}class F extends s.PureComponent{render(){const{onClick:e,original:t,suggestion:a}=this.props,r={pathname:"/search",query:{q:t,src:m.a.SpellingExpansionRevertClick}};return s.createElement(x.a,{style:I.root},s.createElement(b.c,{weight:"bold"},T({suggestion:a})),s.createElement(b.c,{link:r,onClick:e},s.createElement(w.a.I18NFormatMessage,{$i18n:"h36fe5c9"},q(t))))}}const I=y.a.create((e=>({root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical}}))),P=e=>t=>({item_type:_.a.ItemType.SEARCH,name:`spelling_${e}`,description:t.content.spellingResult.text,position:0}),R=e=>({items:[{search_details:{query:e.content.originalQuery},query_details:{query_item:e.content.spellingResult.text}}]}),L={[h.b.News]:p.a,[h.b.EventSummary]:Object(d.a)({errorContext:"SEARCH_SCREEN"}),[h.b.RelatedSearch]:c.d(c.f({component:f,selectData:Object(i.a)({}),createProps:({entry:e})=>{const{content:{relatedSearch:t}}=e;return{searchTerm:t.text}}})),[h.b.FollowSearch]:c.d(c.a()),[h.b.FollowSearchAction]:c.d(c.a()),[h.b.Place]:c.d(c.a()),[h.b.MomentAnnotation]:u.a,[h.b.Spelling]:c.b({selectDisplayType:e=>e.content.spellingAction,handlers:{[C.Expand]:c.f({bindActions:()=>({scribe:E.c}),component:F,divider:{top:!0,bottom:!0},getScribeDataItem:P("expansion"),selectData:Object(i.a)({}),createProps:({entry:e,actions:{scribe:t},scribeNamespace:a})=>{const{content:{originalQuery:r,spellingResult:n}}=e;return{onClick:()=>t({...a,element:"expansion_revert",action:"search"},R(e)),original:r,suggestion:n.text}}}),[C.Replace]:c.f({bindActions:()=>({scribe:E.c}),component:M,divider:{top:!0,bottom:!0},getScribeDataItem:P("replacement"),selectData:Object(i.a)({}),createProps:({entry:e,actions:{scribe:t},scribeNamespace:a})=>{const{content:{originalQuery:r,spellingResult:n}}=e;return{onClick:()=>t({...a,element:"replacement_revert",action:"search"},R(e)),original:r,suggestion:n.text}}}),[C.Suggest]:c.f({component:j,divider:{top:!0,bottom:!0},getScribeDataItem:P("suggestion"),selectData:Object(i.a)({}),createProps:({entry:e})=>{const{content:{spellingResult:t}}=e;return{suggestion:t.text}}})}})};var A=({storeUserTypeahead:e,storeTopicTypeahead:t})=>({...Object(l.a)({tweetDismissable:!0,displayBlocked:!0,storeTypeaheadUserOnClick:e,storeTypeaheadTopicOnClick:t}),...L}),H=a("3X8/"),D=a("oQhu"),z=a("EUHl"),B=a("fTQJ"),N=a("i6OR"),V=a("FIs5");const U=w.a.c09de2d4,Q=s.createElement(w.a.I18NFormatMessage,{$i18n:"f0089e9c"},s.createElement(b.c,{link:"/settings/search"},w.a.d2918e88)),$=w.a.ae111c99,X=Object(D.a)(((e,t,a,r,n,s)=>Object(N.b)({query:e,searchMode:a,querySource:t,searchFilters:r,vertical:n,urtEndpointOptions:s})));class W extends s.Component{constructor(...e){super(...e),n()(this,"_getModule",(()=>{const{query:e,querySrc:t,searchMode:a,searchFilters:r,vertical:n,urtEndpointOptions:s}=this.props;return X(e,t,a,r,n,s)})),n()(this,"_renderEmptyTimeline",(()=>{const{query:e,emptyStateComponent:t}=this.props;return t||s.createElement(V.a,{header:$({query:e}),message:Q})}))}render(){return s.createElement(B.a,{apiErrorHandlerMap:H.a,entryConfiguration:A({storeUserTypeahead:this.context.featureSwitches.isTrue("responsive_web_recent_searches_users_enabled"),storeTopicTypeahead:this.context.featureSwitches.isTrue("responsive_web_recent_searches_topics_enabled")}),fetchOptions:this.props.fetchOptions,module:this._getModule(),newTweetsPillMode:z.a.CLIENT,renderEmptyState:this._renderEmptyTimeline,title:U})}}n()(W,"contextType",o.a);t.a=W},hiGS:function(e,t,a){"use strict";var r=a("ERkP"),n=a("Lsrn"),s=a("k/Ka");const o=(e={})=>Object(s.a)("svg",{...e,style:[n.a.root,e.style],viewBox:"0 0 24 24"},r.createElement("g",null,r.createElement("path",{d:"M20.746 5.236h-3.75V4.25c0-1.24-1.01-2.25-2.25-2.25h-5.5c-1.24 0-2.25 1.01-2.25 2.25v.986h-3.75c-.414 0-.75.336-.75.75s.336.75.75.75h.368l1.583 13.262c.216 1.193 1.31 2.027 2.658 2.027h8.282c1.35 0 2.442-.834 2.664-2.072l1.577-13.217h.368c.414 0 .75-.336.75-.75s-.335-.75-.75-.75zM8.496 4.25c0-.413.337-.75.75-.75h5.5c.413 0 .75.337.75.75v.986h-7V4.25zm8.822 15.48c-.1.55-.664.795-1.18.795H7.854c-.517 0-1.083-.246-1.175-.75L5.126 6.735h13.74L17.32 19.732z"}),r.createElement("path",{d:"M10 17.75c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75zm4 0c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75z"})));o.metadata={width:24,height:24},t.a=o},i6OR:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a("u3ZE"),n=a("3IPs"),s=a("ZNT5"),o=a("eR3e");const c="search-",i=" near:me",l={[n.c.Top]:{},[n.c.Live]:{tweet_search_mode:n.c.Live},[n.c.User]:{result_filter:n.c.User},[n.c.Image]:{result_filter:n.c.Image},[n.c.Video]:{result_filter:n.c.Video}},h=e=>(e=>e===r.a.SpellingCorrectionRevertClick||e===r.a.SpellingExpansionRevertClick)(e)?"-revert":"",d=()=>(e,t)=>{e(Object(o.r)(t()).filter((e=>0===e.indexOf(c))).map((e=>Object(o.e)(e))))};t.b=({query:e,searchMode:t=n.c.Top,querySource:a,searchFilters:r,vertical:o,urtEndpointOptions:c})=>{const d=h(a),u=r&&r.peopleFilter?"searcher_follows":void 0,p=u?"-pf":"",m=r&&r.locationFilter&&!e.includes(i)?`${e} near:me`:e,g=`search-${m}-${t}${d}${p}`;return Object(s.a)({timelineId:g,getEndpoint:e=>e.URT.fetchSearch,getEndpointParams:e=>Object.assign({},null==c?void 0:c.requestParams,{q:m,social_filter:u,vertical:o},l[t],e),context:"FETCH_SEARCH_TIMELINE",isUserRefreshable:!0,perfKey:"search",staleIntervalMs:t===n.c.Live?5e3:void 0,timelineType:"search"})}},kix0:function(e,t,a){"use strict";a.r(t),a.d(t,"SearchFiltersScreen",(function(){return p}));var r=a("97Jx"),n=a.n(r),s=(a("MvUL"),a("ERkP")),o=a("jHSc"),c=a("3XMw"),i=a.n(c),l=a("YeIG"),h=a("L7to"),d=a("Irs7");const u=i.a.aea62567;class p extends s.Component{constructor(e){super(e);const{history:t,location:a}=this.props;Object(l.a)(a.query)&&t.replace("/explore")}render(){const{history:e,location:t}=this.props;return s.createElement(o.b,{documentTitle:u,history:e,title:u},s.createElement(h.a,n()({},this.props,{key:t.key,withBottomBorder:!0})))}}t.default=Object(d.a)(p,{page:"search_filters"})},"l+4e":function(e,t,a){"use strict";var r=a("ERkP"),n=a("rcen"),s=a("rHpw"),o=a("MWbm");const c=s.a.create((e=>({root:{paddingHorizontal:e.spaces.space16,paddingVertical:e.spaces.space12},header:{fontSize:e.fontSizes.large},headerMargin:{marginBottom:e.spaces.space16},body:{fontSize:e.fontSizes.normal}})));t.a=({header:e={},body:t={}})=>r.createElement(o.a,{focusable:!0,style:c.root,tabIndex:"0"},e.text?r.createElement(n.c,{entities:e.entities,forceAutoTextDirection:!0,style:[c.header,t.text&&c.headerMargin],text:e.text,weight:"bold"}):null,t.text?r.createElement(n.c,{entities:t.entities,forceAutoTextDirection:!0,style:c.body,text:t.text}):null)},nmVb:function(e,t,a){"use strict";var r=a("IGGJ");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],a=(0,n.default)(e),r=0;r<a.length;r++)t.push(a[r].hashtag);return t};var n=r(a("yyPN"));e.exports=t.default},sYRn:function(e,t,a){"use strict";var r=a("ERkP"),n=a("eb3s"),s=a("3XMw"),o=a.n(s);const c=o.a.hffea05c,i=o.a.j037e373,l=o.a.d96cf7cd;t.a=({onCancel:e,onConfirm:t})=>r.createElement(n.a,{confirmButtonLabel:l,confirmButtonType:"destructive",headline:c,onCancel:e,onConfirm:t,text:i})},v4XE:function(e,t,a){"use strict";a.d(t,"d",(function(){return y})),a.d(t,"c",(function(){return S})),a.d(t,"a",(function(){return v})),a.d(t,"b",(function(){return f}));a("kYxP");var r=a("kGix"),n=a("Ssj5"),s=a("RqPI"),o=a("oEOe");const c="savedSearches",i="rweb/savedSearches",l={fetchStatus:r.a.NONE,savedSearches:[]},h="FETCH_SAVED_SEARCHES",d=Object(o.a)(i,h),u="SAVE_SEARCH",p=Object(o.a)(i,u),m="DELETE_SAVED_SEARCH",g=Object(o.a)(i,m);function b(e=l,t){switch(t.type){case d.SUCCESS:return{...e,fetchStatus:r.a.LOADED,savedSearches:t.payload};case d.FAILURE:return{...e,fetchStatus:r.a.FAILED};case p.SUCCESS:return{...e,savedSearches:[...e.savedSearches,t.payload]};case g.SUCCESS:return{...e,savedSearches:e.savedSearches.filter((e=>e.id_str!==t.payload.id_str))};default:return e}}n.a.register({[c]:b});const y=e=>e.savedSearches.savedSearches,S=e=>(t,a,{api:r})=>Object(o.b)(t,{request:r.SavedSearches.create,params:{query:e}})({actionTypes:p,context:u}),v=e=>(t,a,{api:r})=>Object(o.b)(t,{request:r.SavedSearches.destroy,params:{id:e}})({actionTypes:g,context:m}),f=()=>(e,t,{api:a})=>{const n=t();if(!Object(s.e)(n))return Promise.resolve();return(e=>e.savedSearches.fetchStatus)(n)===r.a.LOADED?Promise.resolve():e(((e,t,{api:a})=>Object(o.b)(e,{request:a.SavedSearches.fetch,params:{}})({actionTypes:d,context:h})))}},zgaL:function(e,t,a){"use strict";var r=a("ezF+"),n=(a("ERkP"),a("VPAj")),s=a("l+4e"),o=a("zh9S"),c=a("Rp9C");t.a=r.d(r.f({component:s.a,bindActions:()=>({scribe:o.c}),createProps:({entry:e})=>{const{content:t}=e;return{header:t.header,body:t.text}},onImpression:({scribeNamespace:e,scribeData:t,actions:{scribe:a}})=>{a({...e,action:"impression"},t)},getScribeDataItem:({itemMetadata:{clientEventInfo:e}})=>c.a.getAllSurfaceDetails(e),divider:{bottom:!0,top:!0},isFocusable:Object(n.a)(!0)}))}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.Search.942e73c5.js.map